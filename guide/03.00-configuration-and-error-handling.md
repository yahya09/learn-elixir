# Chapter 3: Configuration and Error Handling

In this chapter, we'll explore how Phoenix applications manage configuration across different environments and how to handle errors gracefully.

## What You'll Learn

- Phoenix's configuration system and file structure
- Environment-specific settings (development, test, production)
- Runtime configuration with environment variables
- Custom configuration for your application
- Error handling strategies
- Custom error pages
- Logging and debugging

## Why Configuration Matters

A well-configured application:

1. **Runs correctly** in all environments (dev, test, staging, production)
2. **Keeps secrets safe** by not hardcoding sensitive values
3. **Is flexible** enough to adapt to different deployment scenarios
4. **Fails fast** with clear errors when misconfigured

## Phoenix Configuration Philosophy

Phoenix follows Elixir's configuration conventions with some additions:

```
config/
├── config.exs      # Shared/base configuration
├── dev.exs         # Development environment
├── test.exs        # Test environment
├── prod.exs        # Production defaults
└── runtime.exs     # Runtime configuration (env vars)
```

**Key Principles**:

1. **Compile-time vs Runtime**: Most config is set at compile time; `runtime.exs` handles environment variables
2. **Environment Separation**: Each environment has its own overrides
3. **Explicit over Magic**: Configuration is visible, not hidden in conventions
4. **Secure by Default**: Secrets are loaded from environment variables in production

## Configuration Loading Order

```
1. config/config.exs       (always loaded first)
         ↓
2. config/{env}.exs        (dev.exs, test.exs, or prod.exs)
         ↓
3. config/runtime.exs      (at application start, can use System.get_env)
```

Later configurations override earlier ones.

## Chapter Structure

This chapter covers:

- **3.1 Managing Configuration** - Configuration files and patterns
- **3.2 Environment Variables** - Runtime configuration and secrets
- **3.3 Custom Error Responses** - Handling errors gracefully
- **3.4 Error Pages** - Custom 404 and 500 pages
- **3.5 Logging** - Application logging and debugging

Let's start by understanding how to manage configuration in Phoenix applications.
